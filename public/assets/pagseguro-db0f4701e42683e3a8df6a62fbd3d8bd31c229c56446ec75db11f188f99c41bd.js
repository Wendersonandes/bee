function verificacao(){var e,r;$(document).on("keyup","input:focus",function(){var a=0;r=$(this).attr("name"),e=$(this).val(),console.log(r),console.log(e),"name"==r?(a=apenasLetras(e),msgDeErro(a,"erro_name","*Numeros e Caracteres especiais n\xe3o s\xe3o permitidos")):"email"==r?(a=apenasEmail(e),msgDeErro(a,"erro_email","*Formato de email inv\xe1lido")):"cpf"==r?(a=apenasNum(e),msgDeErro(a,"erro_cpf","*Utilize apenas numeros")):"phone_code"==r?(a=apenasNum(e),msgDeErro(a,"erro_phone_code","*Utilize apenas numeros")):"phone_number"==r?(a=apenasNum(e),msgDeErro(a,"erro_phone_number","*Utilize apenas numeros")):"birthday"==r?(a=apenasData(e),msgDeErro(a,"erro_birthday","*Formato inv\xe1lido")):"street"==r?(a=apenasNumLetra(e),msgDeErro(a,"erro_street","me fode!")):"number"==r?(a=apenasNum(e),msgDeErro(a,"erro_number","*Utilize apenas numeros")):"complement"==r?(a=apenasNumLetra(e),msgDeErro(a,"erro_complement","me fode!")):"district"==r?(a=apenasLetras(e),msgDeErro(a,"erro_district","*Numeros e Caracteres especiais n\xe3o s\xe3o permitidos")):"city"==r?(a=apenasLetras(e),msgDeErro(a,"erro_city","*Numeros e Caracteres especiais n\xe3o s\xe3o permitidos")):"state"==r?(a=apenasLetras(e),msgDeErro(a,"erro_state","*Numeros e Caracteres especiais n\xe3o s\xe3o permitidos")):"postal_code"==r?(a=apenasNum(e),msgDeErro(a,"erro_postal_code","*Utilize apenas numeros")):"card_name"==r?(a=apenasLetras(e),msgDeErro(a,"erro_card_name","*Numeros e Caracteres especiais n\xe3o s\xe3o permitidos")):"card-number"==r&&(a=apenasNum(e),msgDeErro(a,"erro_card-number","*Utilize apenas numeros"))})}function apenasEmail(e){var r=0,a=e.indexOf("@"),o=e.indexOf(".com"),n=e.indexOf(".org"),t=e.indexOf(".net");return(a==-1||o==-1&&n==-1&&t==-1)&&(r=-1),r}function apenasData(e){var r=0;return e[0]>=48&&e[0]<=57&&e[1]>=48&&e[1]<=57&&e[3]>=48&&e[3]<=57&&e[4]>=48&&e[4]<=57&&e[6]>=48&&e[6]<=57&&e[7]>=48&&e[7]<=57&&e[8]>=48&&e[8]<=57&&e[9]>=48&&e[9]<=57&&"/"==e[2]&&"/"==e[5]||(r=-1),r}function apenasLetras(e){for(var r,a=0,o=0;o<e.length;o++)r=e[o],r>="A"&&r<="Z"||r>="a"&&r<="z"||" "==r||(a-=1);return a}function apenasNum(e){for(var r,a=0,o=0;o<e.length;o++)r=e[o],r>="0"&&r<="9"||(a-=1);return a}function apenasNumLetra(e){for(var r,a=0,o=0;o<e.length;o++)r=e[o],r>="A"&&r<="Z"||r>="a"&&r<="z"||" "==r||r>="0"&&r<="9"||(a-=1);return a}function msgDeErro(e,r,a){$("#"+r).remove(),e<0&&$("input:focus").parent().after('<p1 id="'+r+'" style="color:red;">'+a+"</p1>")}function card_flag(){PagSeguroDirectPayment.getBrand({cardBin:$("#card-number").val(),success:function(e){console.log(e),$("#card-flag").html(e.brand.name),$("#card-flag").show(),showPaymentOptions(e.brand.name,$("#price").val()),$("#card-options-box").show(),e.brand.cvvSize>0&&$("#card-cvv-box").show()},error:function(e){console.log($("#card-number").val()),console.log(e),$("#card-flag").hide(),$("#card-cvv-box").hide(),$("#card-options-box").hide()}})}function getCardToken(e,r,a,o){console.log(a),console.log(o);var n={cardNumber:e,cvv:r,expirationMonth:a,expirationYear:o,success:function(e){console.log(e)},error:function(e){console.log(e)}};PagSeguroDirectPayment.createCardToken(n)}function showPaymentOptions(e,r){PagSeguroDirectPayment.getInstallments({amount:r,brand:e,success:function(r){$("#card-options").html(""),$.each(r.installments[e],function(e,r){$("#card-options").append($("<option></option>").attr("value",r.quantity).text("$"+r.installmentAmount+" x "+r.quantity+" - total: $"+r.totalAmount))})},error:function(e){console.log(e)},complete:function(){}})}$(document).ready(function(){document.getElementById("carrinho")&&(PagSeguroDirectPayment.setSessionId($("#session_id").val()),card_flag(),verificacao(),$("#buy-button").click(function(){$("#sender_hash").val(PagSeguroDirectPayment.getSenderHash());var e={cardNumber:$("#card-number").val(),cvv:$("#card-cvv").val(),expirationMonth:$("#card-month").val(),expirationYear:$("#card-year").val(),success:function(e){$("#card_token").val(e.card.token),$("#payment-datas").hide(),$("#finish-buy").fadeIn()},error:function(){alert("As informa\xe7\xf5es sobre o cart\xe3o est\xe3o incorretas")}};PagSeguroDirectPayment.createCardToken(e)}),$("#edit-payment").click(function(){$("#finish-buy").hide(),$("#payment-datas").fadeIn()}),$("#card-number").on("input",function(){card_flag()}))});